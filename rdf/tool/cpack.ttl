@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:   <http://www.w3.org/2002/07/owl#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix foaf:  <http://xmlns.com/foaf/0.1/> .
@prefix cpack: <http://www.swi-prolog.org/cliopatria/cpack#> .

# Define packages and their dependencies
#
# Issues: How to represent version dependencies?

# Classes

cpack:Package a rdfs:Class ;
	rdfs:label "package" ;
	rdfs:comment "A ClioPatria installable package" .

cpack:Application a rdfs:Class ;
	rdfs:label "application" ;
	rdfs:subClassOf cpack:Package ;
	rdfs:comment "An application generates a web-page for user-interaction" .

cpack:Component a rdfs:Class ;
	rdfs:label "component" ;
	rdfs:subClassOf cpack:Package ;
	rdfs:comment "A component generates part of an HTML page" .

cpack:Skin a rdfs:Class ;
	rdfs:label "skin" ;
	rdfs:subClassOf cpack:Package ;
	rdfs:comment "Define (page) layout" .

cpack:API a rdfs:Class ;
	rdfs:label "API" ;
	rdfs:subClassOf cpack:Package ;
	rdfs:comment "An API serves data as JSON and/or XML" .

cpack:Library a rdfs:Class ;
	rdfs:label "library" ;
	rdfs:subClassOf cpack:Package ;
	rdfs:comment "A library returns results as Prolog terms" .

cpack:Ontology a rdfs:Class ;
	rdfs:label "RDF/OWL schema" ;
	rdfs:subClassOf cpack:Package ;
	rdfs:comment "Set of RDF/OWL files, often with Prolog prefixex" .

cpack:Repository a rdfs:Class ;
	rdfs:label "Software repository" .

cpack:File a rdfs:Class ;
	rdfs:label "file" ;
	rdfs:comment "File in a package" .

cpack:GitRepository a rdfs:Class ;
	rdfs:subClassOf cpack:Repository ;
	rdfs:label "GIT Repository" ;
	rdfs:comment "Repository hosted by GIT" .

cpack:Submitter a rdfs:Class ;
	rdfs:label "submitter" ;
	rdfs:comment "Submitter of a CPACK" ;
	rdfs:subClassOf foaf:Person .

# Properties

cpack:name a owl:InverseFunctionalProperty ;
	rdfs:subPropertyOf cpack:provides ;
	rdfs:subPropertyOf rdfs:label ;
	rdfs:label "name" ;
	rdfs:comment "Official identifier name of the package" ;
	rdfs:domain cpack:Package .

cpack:description a owl:DatatypeProperty ;
	rdfs:label "description" ;
	rdfs:subPropertyOf rdfs:comment ;
	rdfs:comment "Short description of the package" ;
	rdfs:domain cpack:Package .

cpack:home a owl:ObjectProperty ;
	rdfs:label "home" ;
	rdfs:comment "URL of the project home page" ;
	rdfs:range rdfs:Resource ;
	rdfs:domain cpack:Package .

cpack:screenShot a owl:ObjectProperty ;
	rdfs:label "screen shot" ;
	rdfs:comment "URL holding a screenshot" ;
	rdfs:range rdfs:Resource ;
	rdfs:domain cpack:Package .

cpack:author a owl:ObjectProperty ;
	rdfs:label "author" ;
	rdfs:comment "Author of the package" ;
	rdfs:range foaf:Person ;
	rdfs:domain cpack:Package .

cpack:maintainer a owl:ObjectProperty ;
	rdfs:label "maintainer" ;
	rdfs:comment "Official maintainer of the package" ;
	rdfs:range foaf:Person ;
	rdfs:domain cpack:Package .

cpack:submittedBy a owl:ObjectProperty ;
	rdfs:label "submitted by" ;
	rdfs:comment "Person that submitted a pack" ;
	rdfs:range cpack:Submitter ;
	rdfs:domain cpack:Package .

cpack:submittedDate a owl:DatatypeProperty ;
	rdfs:label "submitted at" ;
	rdfs:comment "Data of submission" ;
	rdfs:range xsd:dateTime ;
	rdfs:domain cpack:Package .

cpack:primaryRepository a owl:ObjectProperty ;
	rdfs:label "primary repository" ;
	rdfs:comment "Main repository for the software" ;
	rdfs:range cpack:Repository ;
	rdfs:domain cpack:Package .

# Dependency relations are based on `tokens', which by default are
# package-names.  What we still need are versions.  Versions are
# either numeric (a GIT tag), GIT branches or GIT hashes

cpack:provides a owl:DatatypeProperty ;
	rdfs:label "provides" ;
	rdfs:comment "Token(s) provided by this package" ;
	rdfs:domain cpack:Package .

cpack:requires a owl:DatatypeProperty ;
	rdfs:label "requires" ;
	rdfs:comment "Required token" ;
	rdfs:domain cpack:Package .

cpack:suggests a owl:DatatypeProperty ;
	rdfs:label "suggests" ;
	rdfs:comment "Packages that are often used together" ;
	rdfs:domain cpack:Package .

cpack:conflicts a owl:DatatypeProperty ;
	rdfs:label "conflicts" ;
	rdfs:comment "Cannot work together with token" ;
	rdfs:domain cpack:Package .

# Repository properties

cpack:branch a owl:DatatypeProperty ;
	rdfs:label "branch" ;
	rdfs:comment "Branch in the repository" ;
	rdfs:range <rdfs:Literal> ;
	rdfs:domain cpack:Repository .

cpack:tag a owl:DatatypeProperty ;
	rdfs:label "tag" ;
	rdfs:comment "Tag (label) in the repository" ;
	rdfs:range <rdfs:Literal> ;
	rdfs:domain cpack:Repository .

cpack:repoURL a owl:ObjectProperty ;
	rdfs:label "SCM URL" ;
	rdfs:comment "URL to download/clone the repository" ;
	rdfs:subPropertyOf rdf:value ;
	rdfs:range rdfs:Resource ;
	rdfs:domain cpack:Repository .

cpack:gitURL a owl:ObjectProperty ;
	rdfs:label "GIT URL" ;
	rdfs:comment "URL to clone the repository using git" ;
	rdfs:subPropertyOf cpack:repoURL ;
	rdfs:range rdfs:Resource ;
	rdfs:domain cpack:Repository .

cpack:browseURL a owl:ObjectProperty ;
	rdfs:label "browse repository URL" ;
	rdfs:comment "URL to examine the repository with a browser" ;
	rdfs:range rdfs:Resource ;
	rdfs:domain cpack:Repository .

cpack:hash a owl:DatatypeProperty ;
	rdfs:label "hash" ;
	rdfs:comment "World-wide unique identifier of a version" ;
	rdfs:range <rdfs:Literal> ;
	rdfs:domain cpack:GitRepository .

# Submitter properties

cpack:inPack a owl:ObjectProperty ;
	rdfs:label "in pack" ;
	rdfs:comment "Places a file inside a package" ;
	rdfs:range cpack:Package ;
	rdfs:domain cpack:File .

cpack:path a owl:DatatypeProperty ;
	rdfs:label "path" ;
	rdfs:comment "Full path of a file in a package" ;
	rdfs:range rdfs:Literal ;
	rdfs:domain cpack:File .

